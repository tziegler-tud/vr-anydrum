\section*{Signalanalyse}
\subsection*{Anschlagserkennung}
Zur Erkennung von von Anschlägen und Abgrenzung von Hintergrundrauschen werden die Messdaten in Echtzeit geprüft. Hierzu werden die jeweils letzten beiden Messwerte miteinander verglichen. Ein Anschlag wird erkannt, wenn der aktuellere Wert den vorherigen Wert um ein bestimmtes Vielfaches der Standartabweichung übersteigt. Der Faktor sollte dabei auf das zu erwartende Rauschen abgestimmt werden - höhere Werte neigen weniger dazu, Ausschläge im Rauschen bzw. unabsichtliche Behrührungen der Oberfläsche als Anschlag zu erkennen, niedrigere Werte erlauben dagegen, auch sanfte Anschläge zu erkennen. In unseren Versuchen hat sich ein Faktor von 6 als stabil erwiesen.

Wurde ein Anschlag erkannt, so beginnt ein Zeitfenster von ca. 500ms, in dem eingehende Messwerte gepuffert werden. Nach Ablauf des Zeitfensters wird dem Programm signalisiert, dass ein Schlag aufgenommen wurde. Zusätzlich werden die Messwerte bis ca. 20ms vor dem erkannten Anschlag in die Zeitreihe aufgenommen.

\subsection*{Analyse der Beschleunigungsdaten}
Die Klassifizierung aufgenommener Schläge erfolgt mittels Auswertung der stärksten Frequenzen. Hierzu werden die Messwerte zunächst einer diskreten Fouriertransformation unterzogen, und die Spektrale Leistungssdichte der Zeitreihe bestimmt.
In der aktuellen Implementierung konnten Abtastraten von ca. 200Hz erreicht werden. 
Für ein Zeitfenster von ca. 500ms ergeben sich somit 128 Messwerte. 
Nach Anwendung der Fouriertransformation erhält man somit 64 diskrete Frequenzgruppen mit einer Trennschärfe von ca. 2Hz.

Aus diesen Daten werden die 4 Frequenzanteile mit der höchsten Leistungsdichte ermittelt zur weiteren Verwendung gespeichert.

\subsection*{Lernphase}
Zum Erlernen einer Schlagposition werden 10 Schläge aufgezeichnet und der Durchschnitt der jeweils stärksten Frequenzgruppe, zweitstärksten Frequenzgruppe, usw... ermittelt. Diese werden als charakteristisches Pattern gespeichert.

\subsection*{Echtzeit-Klassifizierung}
Ist die Echtzeit-Klassifizierung aktiviert, so werden nach erfolgter Anschlagserkennung und Schlagaufzeichnung die Messwerte analysiert und die stärksten Frequenzgruppen mit denen der gelernten Positionen verglichen. Der Schlag wird der Position mit der gerinsten totalen Abweichung zugeordnet.
Erkennbar hierbei ist, dass in jedem Falle eine Zuordnung erfolgt - auch wenn die Abweichung absurd groß ist. Dies könnte jedoch leicht geändert werden, indem eine maximale Abweichung festgelegt wird und alle berechneten Abweichungen, die diesen Wert übersteigen, als nicht klassifizierbar eingestuft werden. Alternativ könnte, ähnlich zu anderen Clustering-Verfahren, eine Nachbarschaftsbeziehung zur Klassifikation verwendet werden.

\subsection*{Signalaufbereitung/Filterung}

In der aktuellen Implementierung erfolgt keine Filterung oder Nachbereitung der Messwerte. 


Eine Möglichkeit, um Rauschen zu unterdrücken wäre die Nutzung eines Grenzwertes. Auf diese Art können schwache Erschütterungen und leichte Vibrationen unterdrückt werden.
Die Sensordaten könnten weiter geglättet werden durch Verwendung eines Box-Filters (Moving-Average) oder Gauss-Filters.

%Anstelle von timbreID, welches laut Entwickler \cite{timbreID} Cluster benutzt und Merkmale sortiert, haben wir den DBSCAN-Algorithmus getetest.

%Elbatta und Ashour untersuchen verschiedene Clustering Ansätze und stellen in ihrer Arbeit \cite{Elbatta2013ADM} einen verbesserten DBSCAN-Algorithmus vor.
%DBSCAN ist ein  dichtebasierter Cluster-Algorithmus, der als Parameter einen Radius und eine Mindestanzahl an Punkte pro Cluster benötigt.
%Im Gegensatz zu partitionierungsbasierten Cluster-Algorithmen, wie zum Beispiel K-Means, besitzt DBSCAN dne Vorteil, dass es freie Formen von Clustern erkennen kann und sich besonders gut für Daten mit %Rauschen eignet.
%Der Algorithmus startet mit einem zufälligen Punkt.
%Befinden sich die Mindestanzahl an Nachbarpunkten um den gewählten Punkt im gegebenen Radius, wird ein Cluster mit allen gefunden Punkten gebildet.
%Ist die Anzahl Nachbarpunkte kleiner als die Mindestanzahl wird dies als Rauschen markiert.
%Es wird rekursiv mit dem nächsten freien Punkt verfahren, der noch nicht zu einem Cluster gehört und noch nicht bewertet wurde.

%Der DBSCAN-Algorithmus könnte somit verwendet werden, um besondere Merkmale von festzustellen und diese von Rauschen zu unterscheiden.

%Ein Clustering mit DBSCAN zeigte bei uns keine guten Ergebnisse, da wohl die Merkmale
